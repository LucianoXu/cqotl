/- LEAN4 FILE AUTO GENERATED BY CQOTL PROVER FOR OBLIGATION: obligation_5 -/
/- Proof by IvÃ¡n Renison -/

import LeanVeri.Commons
import LeanVeri.LinearMapPropositions
import LeanVeri.ProjectionSubmodule

variable {ğ•œ : Type*} [_inst : (RCLike ğ•œ)]

local notation "ğ•œÂ²" => ((EuclideanSpace ğ•œ) (Fin 2))

def mu : Bool â†’ ğ•œ
  | _ => 1/2

def P0 : ğ•œÂ² â†’â‚—[ğ•œ] ğ•œÂ² := ketbra0

lemma obligation_5 :
    âˆ€ (rho : ğ•œÂ² â†’â‚—[ğ•œ] ğ•œÂ²), âˆ€ (pfspace : ((LinearMap.toSubmodule rho) â‰¤ (LinearMap.toSubmodule 0))),
      rho.isDensityOperator â†’
      ((((LinearMap.trace ğ•œ) ğ•œÂ²) (P0 * rho)) = (mu false)) := by
  intro rho pfspace h1
  rw [LinearMap.toSubmodule_zero] at pfspace
  have pfspace' : rho = 0 := LinearMap.eq_zero_of_toSubmodule_le_bot rho pfspace
  rw [pfspace'] at h1
  unfold LinearMap.isDensityOperator at h1
  have h1' := h1.right
  rw [LinearMap.map_zero (LinearMap.trace ğ•œ ğ•œÂ²)] at h1'
  simp at h1'
